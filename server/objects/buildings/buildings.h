// "Copyright [2017] <Copyright SebastianBlanco>"
//------------------------------------------------------------------------------
#ifndef BUILDINGS_H
#define BUILDINGS_H
//------------------------------------------------------------------------------
class Unit;
class Player;
class Map;
//------------------------------------------------------------------------------
#include <cstdint>
#include <string>
#include <vector>
#include "../object.h"
#include "../../../libs/Dicc.h"

//------------------------------------------------------------------------------
class Buildings: public Object {
 public :
    Player* player;
 protected :
    const size_t tecnologyLevel;
    Dicc<size_t, float> unitManufacturingTime;
 public :
    //--------------------------------------------------------------------------
    Buildings(Node& position, size_t id, size_t tecnologyLevel);
    //--------------------------------------------------------------------------
    ~Buildings();
    //--------------------------------------------------------------------------
    virtual bool canPassThrough() const;
    //--------------------------------------------------------------------------
    float getDamageStructureRel() const;
    //--------------------------------------------------------------------------
    double getUnitManufacturingTime(size_t takenTerritories, size_t type);
    //--------------------------------------------------------------------------
    void addPlayer(Player* aPlayer);
    //--------------------------------------------------------------------------
    Node* getCreationPosition();
    //--------------------------------------------------------------------------
    virtual bool isBuilding()const;
    //--------------------------------------------------------------------------
    virtual bool isFort()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isVehicleFactorie()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isRobotFactorie()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isFlag()const;
    //--------------------------------------------------------------------------
    virtual bool isStone()const;
    //--------------------------------------------------------------------------
    virtual bool isIceBlock()const;
    //--------------------------------------------------------------------------
    virtual bool isBridge()const;
    //--------------------------------------------------------------------------
    virtual bool isWoodenBridge()const;
    //--------------------------------------------------------------------------
    virtual bool isConcreteBridge()const;
    //--------------------------------------------------------------------------
    virtual void addObjectToNodes(Map& aMap);
    //--------------------------------------------------------------------------
    size_t getTecnologyLevel()const;
    //--------------------------------------------------------------------------
 protected :
    //--------------------------------------------------------------------------
    double manufacturingTime(
            size_t takenTerritories, float baseManufacturingTime);
    //--------------------------------------------------------------------------
};
//------------------------------------------------------------------------------
#endif  // BUILDINGS_H
