// "Copyright [2017] <Copyright SebastianBlanco>"
//------------------------------------------------------------------------------
#ifndef _HOME_SEBASTIAN_CLIONPROJECTS_TPGRUPAL_SERVEROBJECT_H_
#define _HOME_SEBASTIAN_CLIONPROJECTS_TPGRUPAL_SERVEROBJECT_H_
//------------------------------------------------------------------------------
class Armament;
class Node;
class State;
class Player;
class Map;
//------------------------------------------------------------------------------
#include <cstddef>
#include <string>
#include <vector>
//------------------------------------------------------------------------------
typedef std::vector<Node*> positions_t;
//------------------------------------------------------------------------------
class Object {
 protected :
    size_t structurePoints;
    size_t damageReceived;
    const State* currentState;
    Node& principalPosition;
    positions_t positions;
    bool wasAdded;
 public :
    const size_t id;
 public :
    //--------------------------------------------------------------------------
    Object(Node& position, size_t id);
    //--------------------------------------------------------------------------
    virtual ~Object();
    //--------------------------------------------------------------------------
    virtual bool canPassThrough() const = 0;
    //--------------------------------------------------------------------------
    bool isBroken() const;
    //--------------------------------------------------------------------------
    void receivedDamage(const Armament& anArmament);
    //--------------------------------------------------------------------------
    const State* getCurrentState()const;
    //--------------------------------------------------------------------------
    void changeState(const State& newState);
    //--------------------------------------------------------------------------
    virtual bool isBuilding()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isFort()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isVehicleFactorie()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isRobotFactorie()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isFlag()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isStone()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isIceBlock()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isBridge()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isWoodenBridge()const = 0;
    //--------------------------------------------------------------------------
    virtual bool isConcreteBridge()const = 0;
    //--------------------------------------------------------------------------
    const size_t& getId()const;
    //--------------------------------------------------------------------------
    Node* getWalkableNode();
    //--------------------------------------------------------------------------
    bool hasAnOwner()const;
    //--------------------------------------------------------------------------
    const Player* getOwner()const;
    //--------------------------------------------------------------------------
    const Node& getPrincipalPosition()const;
    //--------------------------------------------------------------------------
    virtual void addObjectToNodes(Map& aMap) = 0;
    //--------------------------------------------------------------------------
    bool wasAddedOnNode()const;
    //--------------------------------------------------------------------------
};
//------------------------------------------------------------------------------
#endif  // _HOME_SEBASTIAN_CLIONPROJECTS_TPGRUPAL_SERVEROBJECT_H_
