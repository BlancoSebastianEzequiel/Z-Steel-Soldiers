// "Copyright [2017] <Copyright SebastianBlanco>"
//------------------------------------------------------------------------------
#include <vector>
#include <iostream>
#include "proxyNode.h"
#include "proxyTerritories.h"
#include "../../libs/Exception.h"
#include "../../libs/definitions.h"
//------------------------------------------------------------------------------
// NODE CONSTRUCTOR
//------------------------------------------------------------------------------
ProxyNode::ProxyNode(uint32_t x, uint32_t y, std::string type):
    x(x), y(y), type(type) {
    anObject = NULL;
    wasAnObjectAdded = false;
    territory = nullptr;
}
//------------------------------------------------------------------------------
// NODE DESTRUCTOR
//------------------------------------------------------------------------------
ProxyNode::~ProxyNode() {}
//------------------------------------------------------------------------------
// OPERATOR ==
//------------------------------------------------------------------------------
bool ProxyNode::operator==(const ProxyNode& otherNode) const {
    return x == otherNode.getX() && y == otherNode.getY();
}
//------------------------------------------------------------------------------
// OPERATOR !=
//------------------------------------------------------------------------------
bool ProxyNode::operator!=(const ProxyNode& otherNode)const {
    return x != otherNode.getX() || y != otherNode.getY();
}
//------------------------------------------------------------------------------
// SHOW NODE
//------------------------------------------------------------------------------
void ProxyNode::showNode() const {
    printf("(x, y): (%u, %u)\n", x, y);
}
//------------------------------------------------------------------------------
// SET GROUND FACTOR
//------------------------------------------------------------------------------
void ProxyNode::setGroundFactor(float groundFactor) {
    this->groundFactor = groundFactor;
}
//------------------------------------------------------------------------------
// GET GROUND FACTOR
//------------------------------------------------------------------------------
const float& ProxyNode::getGroundFactor() const {
    return groundFactor;
}
//------------------------------------------------------------------------------
// ADD OBJECT
//------------------------------------------------------------------------------
void ProxyNode::addObject(ProxyObject *anObjectToAdd) {
    anObject = anObjectToAdd;
    wasAnObjectAdded = true;
}
//------------------------------------------------------------------------------
// HAS A GROUND OBJECT
//------------------------------------------------------------------------------
bool ProxyNode::hasAnObject() const {
    return wasAnObjectAdded;
}
//------------------------------------------------------------------------------
// GET GROUND OBJECT
//------------------------------------------------------------------------------
const ProxyObject* ProxyNode::getGroundObject() const {
    return anObject;
}
//------------------------------------------------------------------------------
// ADD TERRITORY
//------------------------------------------------------------------------------
void ProxyNode::addTerritory(const ProxyTerritories &aTerritory) {
    territory = &aTerritory;
}
//------------------------------------------------------------------------------
// GET ID TERRITORY
//------------------------------------------------------------------------------
size_t ProxyNode::getIdTerritory() const {
    return territory->getId();
}
//------------------------------------------------------------------------------
// GET PLAYER
//------------------------------------------------------------------------------
const size_t ProxyNode::getOwnerId() const {
    if (territory == nullptr) {
        throw Exception(
                "The territory pointer of the node: (%u, &u) is null\n", x, y);
    }
    return territory->getOwnerId();
}
//------------------------------------------------------------------------------
// GET X
//------------------------------------------------------------------------------
const uint32_t ProxyNode::getX() const {
    return x;
}
//------------------------------------------------------------------------------
// GET Y
//------------------------------------------------------------------------------
const uint32_t ProxyNode::getY() const {
    return y;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isLava() const {
    return type == LAVA;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isDust() const {
    return type == DUST;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isGrass() const {
    return type == GRASS;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isSnow() const {
    return type == SNOW;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isWater() const {
    return type == WATER;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isSwamp() const {
    return type == SWAMP;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isRoad() const {
    return type == ROAD;
}
//------------------------------------------------------------------------------
// IS LAVA
//------------------------------------------------------------------------------
bool ProxyNode::isAsphaltRoad() const {
    return type == ASPHALT_ROAD;
}
//------------------------------------------------------------------------------
