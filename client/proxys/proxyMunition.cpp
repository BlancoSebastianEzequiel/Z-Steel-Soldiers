// "Copyright [2017] <Copyright SebastianBlanco>"
//------------------------------------------------------------------------------
#include "proxyMunition.h"
//------------------------------------------------------------------------------
#define MOVING "moving"
#define OBSOLETE "obsolete"
#define OBJECT "object"
#define UNIT "unit"
//------------------------------------------------------------------------------
// CLIENT PROXY MUNITION CONSTRUCTOR
//------------------------------------------------------------------------------
ProxyMunition::ProxyMunition(
        size_t id, const size_t idShooter, const size_t idTarget):
        id(id), idShooter(idShooter), idTarget(idTarget) {
    updated = false;
}
//------------------------------------------------------------------------------
// CLIENT PROXY MUNITION DESTRUCTOR
//------------------------------------------------------------------------------
ProxyMunition::~ProxyMunition() {}
//------------------------------------------------------------------------------
// OPERATOR ==
//------------------------------------------------------------------------------
bool ProxyMunition::operator==(const ProxyMunition& otherMunition) {
    return id == otherMunition.getId();
}
//------------------------------------------------------------------------------
// SET MOVING DEST
//------------------------------------------------------------------------------
void ProxyMunition::setMovingDest(const ProxyNode& dest) {
    movingToDest = &dest;
}
//------------------------------------------------------------------------------
// MOVING TO
//------------------------------------------------------------------------------
const ProxyNode* ProxyMunition::movingTo() const {
    return movingToDest;
}
//------------------------------------------------------------------------------
// CHANGE STATE
//------------------------------------------------------------------------------
void ProxyMunition::changeState(std::string newState) {
    currentState = newState;
}
//------------------------------------------------------------------------------
// GET ID
//------------------------------------------------------------------------------
const size_t& ProxyMunition::getId() const {
    return id;
}
//------------------------------------------------------------------------------
// GET ID SHOOTER
//------------------------------------------------------------------------------
const size_t& ProxyMunition::getIdShooter() const {
    return idShooter;
}
//------------------------------------------------------------------------------
// GET ID TARGET
//------------------------------------------------------------------------------
const size_t& ProxyMunition::getIdTarget() {
    return idTarget;
}
//------------------------------------------------------------------------------
// IS TARGET AN OBJECT
//------------------------------------------------------------------------------
bool ProxyMunition::isTargetAnObject() const {
    return targetType == OBJECT;
}
//------------------------------------------------------------------------------
// SET TARGET TYPE
//------------------------------------------------------------------------------
void ProxyMunition::setTargetType(std::string type) {
    targetType = type;
}
//------------------------------------------------------------------------------
//  HAS BEEN UPDATED
//------------------------------------------------------------------------------
bool ProxyMunition::hasBeenUpdated() {
    bool aux = updated;
    updated = false;
    return aux;
}
//------------------------------------------------------------------------------
//  SET IS UPDATED
//------------------------------------------------------------------------------
void ProxyMunition::setIsUpdated(bool updated) {
    this->updated = updated;
}
//------------------------------------------------------------------------------
// SET SPEED
//------------------------------------------------------------------------------
void ProxyMunition::setSpeed(float speed) {
    this->speed = speed;
}
//------------------------------------------------------------------------------
// GET SPEED
//------------------------------------------------------------------------------
double ProxyMunition::getSpeed() {
    return speed;
}
//------------------------------------------------------------------------------
// IS MOVING
//------------------------------------------------------------------------------
bool ProxyMunition::isMoving() const {
    return currentState == MOVING;
}
//------------------------------------------------------------------------------
// IS OBSOLETE
//------------------------------------------------------------------------------
bool ProxyMunition::isObsolete() const {
    return currentState == OBSOLETE;
}
//------------------------------------------------------------------------------